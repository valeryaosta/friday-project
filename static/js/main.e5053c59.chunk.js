(this["webpackJsonpfriday-project"]=this["webpackJsonpfriday-project"]||[]).push([[0],{101:function(e,t,r){},102:function(e,t,r){},104:function(e,t,r){},105:function(e,t,r){},106:function(e,t,r){},107:function(e,t,r){},108:function(e,t,r){},109:function(e,t,r){"use strict";r.r(t);var s=r(0),n=r.n(s),c=r(34),a=r.n(c),i=(r(77),r(78),r(12)),o=r(5),l=r(65),d=r.n(l).a.create({baseURL:"http://localhost:7542/2.0/",withCredentials:!0}),j=function(){return d.post("auth/me")},u=function(e,t){return d.post("/auth/register",{email:e,password:t})},b=function(e,t,r){return d.post("auth/login",{email:e,password:t,rememberMe:r})},O=function(){return d.delete("auth/me")},p={status:"idle",error:null},h=function(e){return{type:"app/SET-STATUS",status:e}},x=function(e){return{type:"app/SET-ERROR",error:e}},f={user:{},isAuth:!1},m=function(e){return{type:"login/SET_USER_DATA",payload:e}},g=r(44),v=r(66),w={},R={},S={newUser:{},isRedirect:!1},N=Object(g.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/SET-STATUS":return Object(o.a)(Object(o.a)({},e),{},{status:t.status});case"app/SET-ERROR":return Object(o.a)(Object(o.a)({},e),{},{error:t.error});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"registration/SET_NEW_USER":return Object(o.a)(Object(o.a)({},e),{},{newUser:t.payload});case"registration/SET_REDIRECT":return Object(o.a)(Object(o.a)({},e),{},{isRedirect:t.isRedirect});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET_USER_DATA":return Object(o.a)(Object(o.a)({},e),t.payload);default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE/SET-PROFILE-DATA":var r=t.payload,s=r.name,n=r.avatar,c=r.email,a=r.id;return Object(o.a)(Object(o.a)({},e),{},{name:s,avatar:n,email:c,_id:a});default:return e}},password:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;return t.type,e}}),E=Object(g.c)(N,Object(g.a)(v.a)),A=i.c;window.store=E;var P=r(123),C=r(121),y=r(1),T=function(){return Object(y.jsx)(P.a,{sx:{width:"100%",color:"grey.500"},children:Object(y.jsx)(C.a,{color:"secondary",sx:{position:"absolute",top:0,left:0,right:0}})})},L=r(11),F=r(6),k=(r(47),r(101),r(39)),_=(r(102),function(e){var t=e.errorMessage,r=Object(i.b)(),s=A((function(e){return e.app.error}));return Object(y.jsxs)("div",{className:s?"showNotification":"closeNotification",children:[Object(y.jsxs)("div",{className:"text",children:[" ",t," "]}),Object(y.jsx)("div",{className:"close",children:Object(y.jsx)("div",{className:"text cross",onClick:function(){return r(x(null))},children:"\u2716 "})})]})}),I=function(){A((function(e){return e.app.status}));var e=A((function(e){return e.app.error})),t=A((function(e){return e.login.isAuth})),r=Object(i.b)(),s=Object(k.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<8&&(t.password="Password must be at least 8 characters"):t.password="Required",t},onSubmit:function(e){var t,s,n;console.log(e),r((t=e.email,s=e.password,n=e.rememberMe,function(e){e(h("loading")),b(t,s,n).then((function(t){console.log(t),e(h("succeeded")),e(m({user:t.data,isAuth:!0}))})).catch((function(t){var r=t.response?t.response.data.error:t.message+", more details in the console";e(h("failed")),e(x(r))})).finally((function(){e(h("idle"))}))}))}});return t?Object(y.jsx)(F.a,{to:Q.PROFILE}):Object(y.jsx)("div",{children:Object(y.jsxs)("form",{className:"form",onSubmit:s.handleSubmit,children:[Object(y.jsx)("h1",{children:"Learning Cards"}),Object(y.jsx)("h2",{children:"Sign In"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"email",children:"Email "}),Object(y.jsx)("input",Object(o.a)({type:"text",id:"email"},s.getFieldProps("email")))]}),s.errors.email&&s.touched.email&&Object(y.jsx)("span",{className:"error",children:s.errors.email}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"password",children:"Password "}),Object(y.jsx)("input",Object(o.a)({type:"password",id:"password"},s.getFieldProps("password")))]}),s.errors.password&&s.touched.password&&Object(y.jsx)("span",{className:"error",children:s.errors.password}),Object(y.jsxs)("div",{className:"checkboxWrapper",children:[Object(y.jsx)("input",Object(o.a)({type:"checkbox",id:"rememberMe"},s.getFieldProps("rememberMe"))),Object(y.jsx)("label",{htmlFor:"rememberMe",children:"Remember me "})]}),Object(y.jsx)(L.b,{to:Q.FORGOT_PASSWORD,className:"forgot",children:"Forgot Password"}),Object(y.jsx)("div",{className:"btnLoginWrapper",children:Object(y.jsx)("button",{type:"submit",className:"login",disabled:!(!s.errors.email&&!s.errors.password),children:"Login"})}),Object(y.jsx)("p",{className:"quo",children:"Don't have an account?"}),Object(y.jsx)(L.b,{to:Q.REGISTER,className:"regLink",children:"Sign Up"}),e&&Object(y.jsx)(_,{errorMessage:e})]})})},D=function(){var e=A((function(e){return e.register.isRedirect})),t=A((function(e){return e.app.error})),r=(A((function(e){return e.app.status})),A((function(e){return e.login.isAuth}))),s=Object(i.b)(),n=Object(k.a)({initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<8&&(t.password="Password must be at least 8 characters"):t.password="Required",t},onSubmit:function(e){var t,r;s((t=e.email,r=e.password,function(e){e(h("loading")),u(t,r).then((function(t){console.log(t),e(h("succeeded")),e(x(null)),e({type:"registration/SET_NEW_USER",payload:t.data}),e({type:"registration/SET_REDIRECT",isRedirect:!0})})).catch((function(t){var r=t.response?t.response.data.error:t.message+", more details in the console";e(h("failed")),e(x(r))})).finally((function(){e(h("idle"))}))}))}});return r?Object(y.jsx)(F.a,{to:Q.PROFILE}):e?Object(y.jsx)(F.a,{to:Q.LOGIN}):Object(y.jsxs)("form",{className:"form",onSubmit:n.handleSubmit,children:[Object(y.jsx)("h1",{children:"Learning Cards"}),Object(y.jsx)("h2",{children:"Sign Up"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"email",children:"Email "}),Object(y.jsx)("input",Object(o.a)({type:"text",id:"email"},n.getFieldProps("email")))]}),n.errors.email&&n.touched.email&&Object(y.jsx)("span",{className:"error",children:n.errors.email}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{htmlFor:"password",children:"Password "}),Object(y.jsx)("input",Object(o.a)({type:"password",id:"password"},n.getFieldProps("password")))]}),n.errors.password&&n.touched.password&&Object(y.jsx)("span",{className:"error",children:n.errors.password}),Object(y.jsxs)("div",{className:"btnWrapper",children:[Object(y.jsx)("button",{className:"cancel",children:"Cancel"}),Object(y.jsx)("button",{type:"submit",className:"register",disabled:!(!n.errors.email&&!n.errors.password),children:"Register"})]}),t&&Object(y.jsx)(_,{errorMessage:t})]})},W=function(){return Object(y.jsx)("div",{children:"Forgot Password"})},G=function(){return Object(y.jsx)("div",{children:"Check Email"})},M=function(){return Object(y.jsx)("div",{children:"New password"})},U=(r(104),function(){return Object(y.jsxs)("div",{className:"toggleCardsWrapper",children:[Object(y.jsx)("span",{children:"Number of cards"}),Object(y.jsx)("br",{}),Object(y.jsx)("span",{children:"toggler of cards"})]})}),Z=(r(105),function(){return Object(y.jsxs)("div",{className:"packsListWrapper",children:[Object(y.jsx)("h2",{children:"My packs list"}),Object(y.jsx)("br",{}),Object(y.jsx)("span",{children:"search bar"}),Object(y.jsx)("br",{}),Object(y.jsx)("span",{children:"table"}),Object(y.jsx)("br",{}),Object(y.jsx)("span",{children:"pagination"}),Object(y.jsx)("br",{})]})}),q=(r(106),r.p+"static/media/logout.f0f14280.svg"),K=function(){var e=Object(i.b)();return Object(y.jsxs)("div",{className:"profileDataWrapper",children:[Object(y.jsx)("span",{children:"Profile"}),Object(y.jsx)("a",{className:"logout",onClick:function(){e((function(e){e(h("loading")),O().then((function(t){e(h("succeeded")),e(m({user:{},isAuth:!1})),alert(t.data.info)})).catch((function(t){var r=t.response?t.response.data.error:t.message+", more details in the console";e(h("failed")),e(x(r))})).finally((function(){e(h("idle"))}))}))},children:Object(y.jsx)("img",{src:q,alt:"logout"})})]})},B=(r(107),function(){return Object(y.jsxs)("div",{className:"profileWrapper",children:[Object(y.jsxs)("div",{className:"left",children:[Object(y.jsx)(K,{}),Object(y.jsx)(U,{})]}),Object(y.jsx)("div",{className:"right",children:Object(y.jsx)(Z,{})})]})}),J=function(){var e=A((function(e){return e.login.isAuth})),t=Object(i.b)();return Object(s.useEffect)((function(){}),[t]),e?Object(y.jsx)("div",{children:Object(y.jsx)(B,{})}):Object(y.jsx)(F.a,{to:Q.LOGIN})},V=function(){return Object(y.jsx)("div",{children:"Card Packs"})},$=function(){return Object(y.jsx)("div",{children:"Cards"})},z=function(){return Object(y.jsx)("div",{children:"Not found"})},H=function(){return Object(y.jsxs)(F.d,{children:[Object(y.jsx)(F.b,{exact:!0,path:"/",render:function(){return Object(y.jsx)(I,{})}}),Object(y.jsx)(F.b,{exact:!0,path:Q.LOGIN,render:function(){return Object(y.jsx)(I,{})}}),Object(y.jsx)(F.b,{exact:!0,path:Q.REGISTER,render:function(){return Object(y.jsx)(D,{})}}),Object(y.jsx)(F.b,{exact:!0,path:Q.FORGOT_PASSWORD,render:function(){return Object(y.jsx)(W,{})}}),Object(y.jsx)(F.b,{exact:!0,path:"/checkEmail",render:function(){return Object(y.jsx)(G,{})}}),Object(y.jsx)(F.b,{exact:!0,path:Q.NEW_PASSWORD,render:function(){return Object(y.jsx)(M,{})}}),Object(y.jsx)(F.b,{exact:!0,path:Q.PROFILE,render:function(){return Object(y.jsx)(J,{})}}),Object(y.jsx)(F.b,{exact:!0,path:Q.CARD_PACKS,render:function(){return Object(y.jsx)(V,{})}}),Object(y.jsx)(F.b,{exact:!0,path:Q.CARDS,render:function(){return Object(y.jsx)($,{})}}),Object(y.jsx)(F.b,{exact:!0,path:"/*",render:function(){return Object(y.jsx)(z,{})}})]})},Q={LOGIN:"/login",REGISTER:"/registration",FORGOT_PASSWORD:"/forgot-password",NEW_PASSWORD:"/set-new-password/:token?",PROFILE:"/profile",CARD_PACKS:"/card_packs",CARDS:"/cards"},X=(r(108),function(){return Object(y.jsxs)("div",{className:"links",children:[Object(y.jsx)(L.b,{to:Q.LOGIN,activeClassName:"activeLink",children:"Sign in "}),Object(y.jsx)(L.b,{to:Q.REGISTER,activeClassName:"activeLink",children:"Sign up "}),Object(y.jsx)(L.b,{to:Q.FORGOT_PASSWORD,activeClassName:"activeLink",children:"Forgot Password "}),Object(y.jsx)(L.b,{to:"/checkEmail",activeClassName:"activeLink",children:"Check Email "}),Object(y.jsx)(L.b,{to:Q.NEW_PASSWORD,activeClassName:"activeLink",children:"New Password "}),Object(y.jsx)(L.b,{to:Q.PROFILE,activeClassName:"activeLink",children:"Profile "}),Object(y.jsx)(L.b,{to:Q.CARD_PACKS,activeClassName:"activeLink",children:"Packs "}),Object(y.jsx)(L.b,{to:Q.CARDS,activeClassName:"activeLink",children:"Cards "})]})}),Y=function(){A((function(e){return e.login.isAuth}));var e=A((function(e){return e.app.status})),t=Object(i.b)();return Object(s.useEffect)((function(){t((function(e){e(h("loading")),j().then((function(t){console.log(t),e(h("succeeded")),e(m({user:t.data,isAuth:!0}))})).catch((function(t){var r=t.response?t.response.data.error:t.message+", more details in the console";e(h("failed")),e(x(r))})).finally((function(){e(h("idle"))}))}))}),[t]),Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(X,{}),Object(y.jsx)(H,{}),"loading"===e&&Object(y.jsx)(T,{})]})},ee=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,124)).then((function(t){var r=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,a=t.getTTFB;r(e),s(e),n(e),c(e),a(e)}))};a.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(L.a,{children:Object(y.jsx)(i.a,{store:E,children:Object(y.jsx)(Y,{})})})}),document.getElementById("root")),ee()},47:function(e,t,r){},77:function(e,t,r){},78:function(e,t,r){}},[[109,1,2]]]);
//# sourceMappingURL=main.e5053c59.chunk.js.map