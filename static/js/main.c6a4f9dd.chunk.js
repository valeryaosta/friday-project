(this["webpackJsonpfriday-project"]=this["webpackJsonpfriday-project"]||[]).push([[0],{103:function(e,t,s){},105:function(e,t,s){},106:function(e,t,s){},107:function(e,t,s){},108:function(e,t,s){},109:function(e,t,s){},110:function(e,t,s){},111:function(e,t,s){"use strict";s.r(t);var r=s(0),n=s(36),a=s.n(n),c=(s(79),s(80),s(45)),i=s(67),o=s(10),l=s(4),d={status:"idle",error:null,isInit:!1},j=function(e){return{type:"app/SET-STATUS",status:e}},u=function(e){return{type:"app/SET-ERROR",error:e}},b={},p=s(68),O=s.n(p).a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),h=function(){return O.post("auth/me")},m=function(e,t){return O.post("/auth/register",{email:e,password:t})},x=function(e,t,s){return O.post("auth/login",{email:e,password:t,rememberMe:s})},f=function(){return O.delete("auth/me")},g=function(e){return O.post("auth/forgot",{email:e})},v=function(e,t){return O.post("auth/set-new-password",{password:e,resetPasswordToken:t})},w={email:"",success:!1},S={user:{},isAuth:!1},N=function(e){return{type:"login/SET_USER_DATA",payload:e}},E={newUser:{},isRedirect:!1},R=Object(c.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/SET-STATUS":return Object(l.a)(Object(l.a)({},e),{},{status:t.status});case"app/SET-ERROR":return Object(l.a)(Object(l.a)({},e),{},{error:t.error});case"app/IS_INITIALIZED":return Object(l.a)(Object(l.a)({},e),{},{isInit:t.isInit});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"registration/SET_NEW_USER":return Object(l.a)(Object(l.a)({},e),{},{newUser:t.payload});case"registration/SET_REDIRECT":return Object(l.a)(Object(l.a)({},e),{},{isRedirect:t.isRedirect});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE/SET-PROFILE-DATA":var s=t.payload,r=s.name,n=s.avatar,a=s.email,c=s.id;return Object(l.a)(Object(l.a)({},e),{},{name:r,avatar:n,email:a,_id:c});default:return e}},password:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"password/FORGOT":return Object(l.a)(Object(l.a)({},e),{},{email:t.email});case"password/SET_NEW_PASSWORD_SUCCESS":return Object(l.a)(Object(l.a)({},e),{},{success:t.success});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET_USER_DATA":return Object(l.a)(Object(l.a)({},e),t.payload);default:return e}}}),A=Object(c.c)(R,Object(c.a)(i.a)),C=o.c;window.store=A;var I=s(125),y=s(123),P=s(1),L=function(){return Object(P.jsx)(I.a,{sx:{width:"100%",color:"grey.500"},children:Object(P.jsx)(y.a,{color:"secondary",sx:{position:"absolute",top:0,left:0,right:0}})})},T=s(9),_=s(6),F=(s(32),s(64),s(26)),k=(s(103),function(e){var t=e.errorMessage,s=Object(o.b)(),r=C((function(e){return e.app.error}));return Object(P.jsxs)("div",{className:r?"showNotification":"closeNotification",children:[Object(P.jsxs)("div",{className:"text",children:[" ",t," "]}),Object(P.jsx)("div",{className:"close",children:Object(P.jsx)("div",{className:"text cross",onClick:function(){return s(u(null))},children:"\u2716 "})})]})}),D=function(){var e=C((function(e){return e.app.error})),t=C((function(e){return e.login.isAuth})),s=C((function(e){return e.app.isInit})),n=Object(o.b)(),a=Object(F.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<8&&(t.password="Password must be at least 8 characters"):t.password="Required",t},onSubmit:function(e){var t,s,r;console.log(e),n((t=e.email,s=e.password,r=e.rememberMe,function(e){e(j("loading")),x(t,s,r).then((function(t){e(j("succeeded")),e(N({user:t.data,isAuth:!0}))})).catch((function(t){var s=t.response?t.response.data.error:t.message+", more details in the console";e(j("failed")),e(u(s))}))}))}});return Object(r.useEffect)((function(){n((function(e){e(j("loading")),e({type:"app/IS_INITIALIZED",isInit:!0}),h().then((function(t){e(j("succeeded")),e(N({user:t.data,isAuth:!0}))})).catch((function(t){var s=t.response?t.response.data.error:t.message+", more details in the console";e(j("failed")),e(u(s))}))}))}),[n]),s?t?Object(P.jsx)(_.a,{to:Y.PROFILE}):Object(P.jsx)("div",{children:Object(P.jsxs)("form",{className:"form",onSubmit:a.handleSubmit,children:[Object(P.jsx)("h1",{children:"Learning Cards"}),Object(P.jsx)("h2",{children:"Sign In"}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{htmlFor:"email",children:"Email "}),Object(P.jsx)("input",Object(l.a)({type:"text",id:"email"},a.getFieldProps("email")))]}),a.errors.email&&a.touched.email&&Object(P.jsx)("span",{className:"error",children:a.errors.email}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{htmlFor:"password",children:"Password "}),Object(P.jsx)("input",Object(l.a)({type:"password",id:"password"},a.getFieldProps("password")))]}),a.errors.password&&a.touched.password&&Object(P.jsx)("span",{className:"error",children:a.errors.password}),Object(P.jsxs)("div",{className:"checkboxWrapper",children:[Object(P.jsx)("input",Object(l.a)({type:"checkbox",id:"rememberMe"},a.getFieldProps("rememberMe"))),Object(P.jsx)("label",{htmlFor:"rememberMe",children:"Remember me "})]}),Object(P.jsx)(T.b,{to:Y.FORGOT_PASSWORD,className:"forgot",children:"Forgot Password"}),Object(P.jsx)("div",{className:"btnLoginWrapper",children:Object(P.jsx)("button",{type:"submit",className:"login",disabled:!(!a.errors.email&&!a.errors.password),children:"Login"})}),Object(P.jsx)("p",{className:"quo",children:"Don't have an account?"}),Object(P.jsx)(T.b,{to:Y.REGISTER,className:"regLink",children:"Sign Up"}),e&&Object(P.jsx)(k,{errorMessage:e})]})}):Object(P.jsx)(L,{})},W=function(){var e=C((function(e){return e.register.isRedirect})),t=C((function(e){return e.app.error})),s=(C((function(e){return e.app.status})),C((function(e){return e.login.isAuth}))),r=Object(o.b)(),n=Object(F.a)({initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<8&&(t.password="Password must be at least 8 characters"):t.password="Required",t},onSubmit:function(e){var t,s;r((t=e.email,s=e.password,function(e){e(j("loading")),m(t,s).then((function(t){console.log(t),e(j("succeeded")),e(u(null)),e({type:"registration/SET_NEW_USER",payload:t.data}),e({type:"registration/SET_REDIRECT",isRedirect:!0})})).catch((function(t){var s=t.response?t.response.data.error:t.message+", more details in the console";e(j("failed")),e(u(s))})).finally((function(){e(j("idle"))}))}))}});return s?Object(P.jsx)(_.a,{to:Y.PROFILE}):e?Object(P.jsx)(_.a,{to:Y.LOGIN}):Object(P.jsxs)("form",{className:"form",onSubmit:n.handleSubmit,children:[Object(P.jsx)("h1",{children:"Learning Cards"}),Object(P.jsx)("h2",{children:"Sign Up"}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{htmlFor:"email",children:"Email "}),Object(P.jsx)("input",Object(l.a)({type:"text",id:"email"},n.getFieldProps("email")))]}),n.errors.email&&n.touched.email&&Object(P.jsx)("span",{className:"error",children:n.errors.email}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{htmlFor:"password",children:"Password "}),Object(P.jsx)("input",Object(l.a)({type:"password",id:"password"},n.getFieldProps("password")))]}),n.errors.password&&n.touched.password&&Object(P.jsx)("span",{className:"error",children:n.errors.password}),Object(P.jsxs)("div",{className:"btnWrapper",children:[Object(P.jsx)("button",{className:"cancel",children:"Cancel"}),Object(P.jsx)("button",{type:"submit",className:"register",disabled:!(!n.errors.email&&!n.errors.password),children:"Register"})]}),t&&Object(P.jsx)(k,{errorMessage:t})]})},G=(s(105),function(){var e=C((function(e){return e.app.error})),t=C((function(e){return e.password.email})),s=Object(o.b)(),r=Object(F.a)({initialValues:{email:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t},onSubmit:function(e){var t;s((t=e.email,function(e){e(j("loading")),g(t).then((function(){e(j("succeeded")),e(function(e){return{type:"password/FORGOT",email:e}}(t))})).catch((function(t){var s=t.response?t.response.data.error:t.message+", more details in the console";e(j("failed")),e(u(s))})).finally((function(){e(j("idle"))}))}))}});return t?Object(P.jsx)(_.a,{to:Y.CHECK_EMAIL}):Object(P.jsx)("div",{children:Object(P.jsxs)("form",{className:"form",onSubmit:r.handleSubmit,children:[Object(P.jsx)("h1",{children:"Learning Cards"}),Object(P.jsx)("h2",{className:"forPass",children:"Forgot your password?"}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{htmlFor:"email",children:"Email "}),Object(P.jsx)("input",Object(l.a)({type:"text",id:"email"},r.getFieldProps("email")))]}),r.errors.email&&r.touched.email&&Object(P.jsx)("span",{className:"error",children:r.errors.email}),Object(P.jsx)("p",{className:"instr",children:"Enter your email address and we will send you further instructions"}),Object(P.jsx)("div",{className:"btnLoginWrapper",children:Object(P.jsx)("button",{type:"submit",className:"login",disabled:!!r.errors.email,children:"Send Instructions"})}),Object(P.jsx)("p",{className:"quo",children:"Did you remember your password?"}),Object(P.jsx)(T.b,{to:Y.LOGIN,className:"regLink",children:"Try logging in"}),e&&Object(P.jsx)(k,{errorMessage:e})]})})}),M=s.p+"static/media/checkEmailIcon.bc3a4042.svg",U=(s(66),function(){var e=C((function(e){return e.password.email}));return Object(P.jsx)("div",{children:Object(P.jsxs)("div",{className:"form",children:[Object(P.jsx)("h1",{children:"Learning Cards"}),Object(P.jsx)("div",{className:"checkEmail",children:Object(P.jsx)("img",{src:M,alt:"check icon"})}),Object(P.jsx)("h2",{children:"Check Email"}),Object(P.jsxs)("p",{className:"quo emailInstr",children:["We\u2019ve sent an Email with instructions to",Object(P.jsx)("span",{children:e})]})]})})}),Z=function(){var e=C((function(e){return e.password.email})),t=C((function(e){return e.app.error})),s=C((function(e){return e.password.success})),r=Object(_.g)().token,n=r||"",a=Object(o.b)(),c=Object(F.a)({initialValues:{password:""},validate:function(e){var t={};return e.password?e.password.length<8&&(t.password="Password must be at least 8 characters"):t.password="Required",t},onSubmit:function(e){var t,s;a((t=e.password,s=n,function(e){e(j("loading")),v(t,s).then((function(t){e(j("succeeded")),e({type:"password/SET_NEW_PASSWORD_SUCCESS",success:!0}),alert(t.data.info+" you will be redirected to login page")})).catch((function(t){var s=t.response?t.response.data.error:t.message+", more details in the console";e(j("failed")),e(u(s))}))}))}});return s?Object(P.jsx)(_.a,{to:Y.LOGIN}):Object(P.jsx)("div",{children:Object(P.jsxs)("form",{className:"form",onSubmit:c.handleSubmit,children:[Object(P.jsx)("h1",{children:"Learning Cards"}),Object(P.jsx)("h2",{className:"forPass",children:"Create new password"}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{htmlFor:"password",children:"Password "}),Object(P.jsx)("input",Object(l.a)({type:"password",id:"password"},c.getFieldProps("password")))]}),c.errors.password&&c.touched.password&&Object(P.jsx)("span",{className:"error",children:c.errors.password}),Object(P.jsxs)("p",{className:"quo emailInstr left",children:["Create new password and we will send you further instructions to",Object(P.jsx)("span",{children:e})]}),Object(P.jsx)("div",{className:"btnLoginWrapper",children:Object(P.jsx)("button",{type:"submit",className:"login",disabled:!!c.errors.password,children:"Create new password"})}),t&&Object(P.jsx)(k,{errorMessage:t})]})})},q=(s(106),function(){return Object(P.jsxs)("div",{className:"toggleCardsWrapper",children:[Object(P.jsx)("span",{children:"Number of cards"}),Object(P.jsx)("br",{}),Object(P.jsx)("span",{children:"toggler of cards"})]})}),K=(s(107),function(){return Object(P.jsxs)("div",{className:"packsListWrapper",children:[Object(P.jsx)("h2",{children:"My packs list"}),Object(P.jsx)("br",{}),Object(P.jsx)("span",{children:"search bar"}),Object(P.jsx)("br",{}),Object(P.jsx)("span",{children:"table"}),Object(P.jsx)("br",{}),Object(P.jsx)("span",{children:"pagination"}),Object(P.jsx)("br",{})]})}),V=(s(108),s.p+"static/media/logout.f0f14280.svg"),H=function(){var e=Object(o.b)();return Object(P.jsxs)("div",{className:"profileDataWrapper",children:[Object(P.jsx)("span",{children:"Profile"}),Object(P.jsx)("a",{className:"logout",onClick:function(){e((function(e){e(j("loading")),f().then((function(t){e(j("succeeded")),e(N({user:{},isAuth:!1})),alert(t.data.info)})).catch((function(t){var s=t.response?t.response.data.error:t.message+", more details in the console";e(j("failed")),e(u(s))}))}))},children:Object(P.jsx)("img",{src:V,alt:"logout"})})]})},$=(s(109),function(){return Object(P.jsxs)("div",{className:"profileWrapper",children:[Object(P.jsxs)("div",{className:"left",children:[Object(P.jsx)(H,{}),Object(P.jsx)(q,{})]}),Object(P.jsx)("div",{className:"right",children:Object(P.jsx)(K,{})})]})}),B=function(){var e=C((function(e){return e.login.isAuth})),t=Object(o.b)();return Object(r.useEffect)((function(){}),[t]),e?Object(P.jsx)("div",{children:Object(P.jsx)($,{})}):Object(P.jsx)(_.a,{to:Y.LOGIN})},J=function(){return Object(P.jsx)("div",{children:"Card Packs"})},z=function(){return Object(P.jsx)("div",{children:"Cards"})},Q=function(){return Object(P.jsx)("div",{children:"Not found"})},X=function(){return Object(P.jsxs)(_.d,{children:[Object(P.jsx)(_.b,{exact:!0,path:"/",render:function(){return Object(P.jsx)(D,{})}}),Object(P.jsx)(_.b,{exact:!0,path:Y.LOGIN,render:function(){return Object(P.jsx)(D,{})}}),Object(P.jsx)(_.b,{exact:!0,path:Y.REGISTER,render:function(){return Object(P.jsx)(W,{})}}),Object(P.jsx)(_.b,{exact:!0,path:Y.FORGOT_PASSWORD,render:function(){return Object(P.jsx)(G,{})}}),Object(P.jsx)(_.b,{exact:!0,path:Y.CHECK_EMAIL,render:function(){return Object(P.jsx)(U,{})}}),Object(P.jsx)(_.b,{exact:!0,path:Y.NEW_PASSWORD,render:function(){return Object(P.jsx)(Z,{})}}),Object(P.jsx)(_.b,{exact:!0,path:Y.PROFILE,render:function(){return Object(P.jsx)(B,{})}}),Object(P.jsx)(_.b,{exact:!0,path:Y.CARD_PACKS,render:function(){return Object(P.jsx)(J,{})}}),Object(P.jsx)(_.b,{exact:!0,path:Y.CARDS,render:function(){return Object(P.jsx)(z,{})}}),Object(P.jsx)(_.b,{exact:!0,path:"/*",render:function(){return Object(P.jsx)(Q,{})}})]})},Y={LOGIN:"/login",REGISTER:"/registration",FORGOT_PASSWORD:"/forgot-password",CHECK_EMAIL:"/check-email",NEW_PASSWORD:"/set-new-password/:token",PROFILE:"/profile",CARD_PACKS:"/card_packs",CARDS:"/cards"},ee=(s(110),function(){return Object(P.jsxs)("div",{className:"links",children:[Object(P.jsx)(T.b,{to:Y.LOGIN,activeClassName:"activeLink",children:"Sign in "}),Object(P.jsx)(T.b,{to:Y.REGISTER,activeClassName:"activeLink",children:"Sign up "}),Object(P.jsx)(T.b,{to:Y.FORGOT_PASSWORD,activeClassName:"activeLink",children:"Forgot Password "}),Object(P.jsx)(T.b,{to:Y.NEW_PASSWORD,activeClassName:"activeLink",children:"New Password "}),Object(P.jsx)(T.b,{to:Y.PROFILE,activeClassName:"activeLink",children:"Profile "}),Object(P.jsx)(T.b,{to:Y.CARD_PACKS,activeClassName:"activeLink",children:"Packs "}),Object(P.jsx)(T.b,{to:Y.CARDS,activeClassName:"activeLink",children:"Cards "})]})}),te=function(){var e=C((function(e){return e.app.status}));return Object(P.jsxs)("div",{className:"App",children:[Object(P.jsx)(ee,{}),Object(P.jsx)(X,{}),"loading"===e&&Object(P.jsx)(L,{})]})},se=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,126)).then((function(t){var s=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,c=t.getTTFB;s(e),r(e),n(e),a(e),c(e)}))};a.a.render(Object(P.jsx)(T.a,{children:Object(P.jsx)(o.a,{store:A,children:Object(P.jsx)(te,{})})}),document.getElementById("root")),se()},32:function(e,t,s){},64:function(e,t,s){},66:function(e,t,s){},79:function(e,t,s){},80:function(e,t,s){}},[[111,1,2]]]);
//# sourceMappingURL=main.c6a4f9dd.chunk.js.map